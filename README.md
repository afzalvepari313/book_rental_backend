# 📚 Fullstack Book Rental Backend Service

This is a **Book Rental Service API** built using **TypeScript**, **Node.js**, **Express.js**, and **MongoDB**. It manages books, users, and transactions (like issuing and returning books) and provides various APIs to fetch details. 📖

## 📋 Table of Contents

- [📖 Project Overview](#project-overview)
- [✨ Features](#features)
- [🛠 Tech Stack](#tech-stack)
- [⚙️ Installation](#installation)
- [🔑 Environment Variables](#environment-variables)
- [💻 Running Locally](#running-locally)
- [🔗 APIs](#apis)
- [🚀 Deployment](#deployment)
- [📄 License](#license)

## 📖 Project Overview

The service manages:
- 👥 **Users**: who rent books.
- 📚 **Books**: with attributes like name, category, and rent per day.
- 📝 **Transactions**: which track when a book is issued and returned, along with calculating the total rent.

## ✨ Features

- 🔍 Search books by name or term.
- 💲 Filter books by rent range.
- 📂 Search books by category, name, and rent range.
- 📅 Issue and return books, with automatic rent calculation.
- 📊 View transaction history and rent generated by books.
- 📑 Track issued books for each user.

## 🛠 Tech Stack

- **Backend**: 🖥️ Node.js, Express.js
- **Database**: 🗄️ MongoDB (with MongoDB Atlas)
- **Language**: 📝 TypeScript
- **Other**: Mongoose, dotenv

## ⚙️ Installation

1. **Clone the repository:**
   ```bash
   git clone https://github.com/your-username/book-rental-backend.git
   cd book-rental-backend
# API Documentation

## 📚 Books

### Search Books
**GET** `/api/books/search`

Search books by name or term.

## API Endpoints

### Books Routes

- **Search Books**
  - `GET /api/books/search`
  - Query parameters: `name` (string)
  - Description: Retrieve books by name.

- **Add Book**
  - `POST /api/books/addBook`
  - Request body: 
    ```json
    {
      "name": "string",
      "category": "string",
      "rentPerDay": "number"
    }
    ```
  - Description: Add a new book.

- **Get All Books**
  - `GET /api/books/getAllBooks`
  - Description: Get a list of all books.

- **Get Books by Rent**
  - `GET /api/books/rent`
  - Query parameters: 
    - `minRent` (number)
    - `maxRent` (number)
  - Description: Get books within a specified rent range.

- **Get Books by Category and Rent**
  - `GET /api/books/category-rent`
  - Query parameters: 
    - `category` (string)
    - `name` (string)
    - `minRent` (number)
    - `maxRent` (number)
  - Description: Get books by category and rent range.

### Users Routes

- **Create User**
  - `POST /api/users/addUser`
  - Request body:
    ```json
    {
      "name": "string",
      "email": "string"
    }
    ```
  - Description: Create a new user.

- ** Get All User**
  - `POST /api/users/getAllusers`
  - Get All Users Information .


### Books Routes
### 1. Create a Book

- **Method**: `POST`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/books/addBook`
- **Description**: Issues a book to a user.
- **Request Body**:
  ```json
  {
    "name": "Enter book name",
    "category": "describe category",
    "rentPerDay": "describe book rent"
  }
### 2. Get All Book

- **Method**: `GET`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/books/getAllBooks`
- **Description**: Get All Books Information.

### Transactions Routes
### 1. Issue a Book

- **Method**: `POST`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/transactions/issue`
- **Description**: Issues a book to a user.
- **Request Body**:
  ```json
  {
    "bookName": "The Da Vinci Code",
    "userId": "66dd42834fd62a6c942e3597",
    "issueDate": "2024-06-25T00:00:00.000Z"
  }
### 2. Return a Book

- **Method**: `POST`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/transactions/return`
- **Description**:  Returns a book and calculates the total rent.
- **Request Body**:   
  ```json
  {
    "bookName": "The Da Vinci Code",
    "userId": "66add42834fd62a6c942e3597",
    "returnDate": "2024-06-25T00:00:00.000Z"
  }

### 3.  Get List of Books Issued in a Date Range

- **Method**: `GET`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/transactions/date-range`
- **Description**:  Retrieves a list of books issued within a specified date range.
- ** URL Parameters **:   
  ```json
  {
    "startDate": "startdate",
    "endDate": "enddate"
  }

### 4.  Get Total Rent Generated by a Book

- **Method**: `GET`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/transactions/book/rent/:bookName`
- **Description**:  Calculates the total rent generated by a specific book.
- **  URL Parameters **:   
bookName: The name of the book.

### 5.   Get List of Books Issued to a Person

- **Method**: `GET`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/transactions/user/:userId`
- **Description**:  Retrieves a list of books issued to a specific user.
- ** URL Parameters **:   
userId: The ID of the user.

### 6.  Get List of Books Issued in a Date Range

- **Method**: `GET`
- **Endpoint**: `https://book-rental-backend-cjen.onrender.com/api/transactions/date-range`
- **Description**:  Retrieves a list of books issued within a specified date range.
- ** Query Parameters **:   
startDate: The start date of the range (ISO 8601 format). <br>
endDate: The end date of the range (ISO 8601 format).<br>


